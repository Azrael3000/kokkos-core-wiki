## Scope of Kokkos Testing

This chapter of the Testing description develops the primary focus of the document, the Kokkos Testing Workflow. Software testing accompanies all development activities and is performed by each Kokkos developer as part of their daily tasks: implementation of new features, debugging, development of test problems, user support and documentation. The end use of the Kokkos software - integration into a host application to improve performance (i.e., reduction is not an option) - establishes a hierarchy of considerations that are all intimately dependent on software testing: inclusion of developers work into the _develop_ branch through an approval process whose aim is the maintenance of software quality/integrity; integration of the fully-tested and clean _develop_ branch into Trilinos without producing additional failures in Trilinos testing. (Trilinos is a tight-woven collection of software packages of which Kokkos is a member and on which many depend. Trilinos packages are designed/developed for integration into other applications). This latter aspect of Kokkos testing is called (Trilinos) __Promotion Testing__ and is the primary focus of this section; it is presented in detail as this task must be performed exactly as described for a successful promotion.

## Kokkos Routine/Daily/Nightly Testing

Testing is a through-going aspect of software development, touching all phases of a software project. Bringing together the test scripts, the test problems and repository management methodology identified in the previous section, a team methodology has evolved that will evaluate the correctness and speed of the development product prior to commit. Each developer will use a combination of existing unit and performance tests or newly written tests in combination with existing or standalone test scripts to evaluate bugfixes, new features and evaluate one approach versus another for improving performance. Submission of a commit with a pull request will initiate a software review followed by suggestions for improvement or approval of the pull request.

Another aspect of routine testing are the nightly tests on multiple platforms initiated using the _jenkins_test_driver script_. Most/All of the test platforms identified in Table 2.1 are sent multiple jobs for a range of compilers, Kokkos backends and combinations of test problems. These are run for the develop branch (and master branch) of Kokkos. Results from these tests become the standard for evaluating the state of the Kokkos branches. These tests are design to cover the full range of architectures and compilers that Kokkos supports.

## Other Testing

A set of tutorial problems have been developed for use in hands-on training exercises. These are not part of a scheduled test regimen; however, they are run and performance data updated periodically when Kokkos capabilities have changed significantly or new compilers and architectures are added to our repertoire. Module choices, scripts and script options for these problems have been collected so that they may be committed to the Kokkos repository.

## Kokkos Promotion Testing and Promotion Processes

Promotion testing refers to the process established that leads to integration of the stand-alone version of the Kokkos software back into the parent Trilinos software as a _package_ (the basic unit of identity in Trilinos). The promotion testing process was developed to satisfy the requirements for pushing Kokkos software updates into Trilinos with the confidence that these updates will not adversely affect the integrity of other packages that depend on Kokkos, nor will it adversely affect the Trilinos software repository itself.

Promotion testing is conducted normally at four to eight week intervals (depending on Kokkos team commits and commitments). The _develop_ branch is the remote repository to which accepted new features, bug-fixes and upgrades/improvements are committed. _origin/master_ is the primary remote branch of Kokkos, the pristine version of the Kokkos software, that serves as the source for cloning and forking of the repository. It is __not__ the version of Kokkos that will be integrated back into Trilinos during the promotion process; the develop branch is merged into the master branch __after__ a successful promotion into Trilinos.  For promotion of the _develop_ branch into Trilinos to take place, the _develop_ branch of Kokkos must first pass all Kokkos tests; when satisfactorily completed, Kokkos _develop_ branch must than pass all the Trilinos tests. This process requires comparative testing of two (_develop_) branches of Trilinos, one with the current (at the time of testing) Kokkos package in Trilinos (called the _pristine_ branch) and the other with a current develop branch of Kokkos _snapshotted_ into it (called the _updated_ branch). These two versions of the Trilinos repository are then run through all of tests appropriate for the Trilinos-Kokkos package tests. When completed satisfactorily (i.e., it has been determined that Kokkos does not produce any additional/new failures or differences in Trilinos test results), this testing will lead to a (_git_) _push_ of the Kokkos _develop_ branch into Trilinos and then into Kokkos _master_.    (_Snapshotting_ is a __re-integration__ process accomplished by the script _snapshot.py_.)


The (work) process of testing, snapshotting, testing and committing to Trilinos and pushing to (Kokkos) master is best described in the (outline) document __kokkos-promotion.txt__ (see Attachment B). 
